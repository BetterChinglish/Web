<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>事件</title>
</head>
<body onload="checkCookies()">
    <!-- DOM 允许js对HTML事件做出反应
        
        当事件发生时，可以执行 JavaScript，比如当用户点击一个 HTML 元素时。
        如需在用户点击某个元素时执行代码，
        请把 JavaScript 代码添加到 HTML 事件属性中：onclick=JavaScript
        
        HTML 事件的例子：
        当用户点击鼠标时
        当网页已加载时
        当图片已加载时
        当鼠标移动到元素上时
        当输入字段被改变时
        当 HTML 表单被提交时
        当用户触发按键时    
    -->
    <h1 onclick="this.innerHTML = 'hello world!' ;">点击此文本</h1>
    <h1 onclick="helloWorld(this)">点击此文本</h1>
    <script>
        function helloWorld(node) {
            node.innerHTML = "hello world!";
        }
    </script>

    <!-- HTML 事件属性
        下例在点击按钮时，会调用 displayDate() 函数
    -->
    <p id="demo1">点击按钮显示时间</p>
    <button onclick="displayDate()">显示时间</button>
    <script>
        function displayDate() {
            document.getElementById("demo1").innerHTML = Date();

        }
    </script>

    <!-- 使用 DOM 分配事件 -->
    <p id="demo2">点击按钮显示事件</p>
    <button id="myBTN1">试一试</button>
    <script>
        document.getElementById("myBTN1").onclick = function() {displayDate()};
        function displayDate() {
            document.getElementById("demo2").innerHTML = Date();
        }
    </script>

    <!-- onload 和 onunload 事件 
        当用户进入或离开页面时，会触发 onload 和 onunload 事件。
        onload 事件可用于检查访客的浏览器类型和版本，
        以便基于这些信息来加载不同版本的网页。
        onload 和 onunload 事件可用于处理 cookies    
    -->
    <script>
        function checkCookies() 
        {
            if (navigator.cookieEnabled == true)
            {
                alert("cookies are enabled");
            }
            else
            {
                alert("cookies are not enabled");
            }
        }

        // window.onunload = unloadPage();
        // function unloadPage() {
        //     alert("unload event detected!");
        // }
    </script>

    <!-- onchange 事件
    
        onchange 事件常用于输入字段的验证。
        下面的例子展示了如何使用 onchange。
        当用户改变输入字段的内容时，将调用 upperCase() 函数。        
    -->
    请输入您的英文名：<input type="text" id="fname" onchange="myFunction()">
    <script>
        function myFunction(){
        var x = document.getElementById("fname");
        x.value = x.value.toUpperCase();
        // 当你离开输入框时，被触发的函数会把你输入的文本转换为大写字母
        }        
    </script>

    <!-- onmouseover 和 onmouseout 事件
        事件可用于在鼠标指针移动到或离开元素时触发函数。
    -->
    <div
    onmouseover="mOver(this)"
    onmouseout="mOut(this)"
    style="background-color: aqua;
    width: 200px;
    height: 50px;
    padding-top: 25px;
    text-align: center;"
    >
    mouse over me
    </div>
    <script>
        function mOver(obj) {
            obj.innerHTML = "thanks";
        }

        function mOut(obj) {
            obj.innerHTML ="把鼠标移动到这上面！";
        }
    </script>

    <!-- onmousedown onmouseup onclick 
    onmousedown、onmouseup 以及 onclick 事件是鼠标点击的全部过程。
    首先当某个鼠标按钮被点击时，
    触发 onmousedown 事件，
    然后，当鼠标按钮被松开时，
    会触发 onmouseup 事件，
    最后，当鼠标点击完成时，
    触发 onclick 事件。-->
    <p id="message1">message</p>
    <div 
    onmousedown="mDown(this)"
    onmouseup="mUp(this)"
    onclick="showMessage()"
    style="background-color: bisque;
    width: 200px;
    height: 50px;
    padding-top: 25px;
    text-align: center;"
    >
    点击此处
    </div>
    <script>
        function mDown(obj) {
            obj.style.backgroundColor = "yellow";
            obj.innerHTML = "up your mouse!";
        }

        function mUp(obj) {
            obj.style.backgroundColor = "red";
            obj.innerHTML = "thanks your trying";
        }

        function showMessage() {
            document.getElementById("message1").innerHTML = "结束";
        }
        
    </script>

</body>
</html>